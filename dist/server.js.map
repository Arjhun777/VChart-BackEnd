{"version":3,"sources":["../src/server.js"],"names":["app","serve","server","Server","io","port","process","env","PORT","use","express","json","urlencoded","extended","get","req","res","send","link","on","socket","roomID","userID","console","log","join","to","broadcast","emit","listen","e","error"],"mappings":"kGAAA;AACA;AACA;AACA;AACA;;AAEA,MAAMA,GAAG,GAAG,uBAAZ;AACA,MAAMC,KAAK,GAAGC,cAAOC,MAAP,CAAcH,GAAd,CAAd;AACA,MAAMI,EAAE,GAAG,qBAASH,KAAT,CAAX;AACA,MAAMI,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;;AAEA;AACAR,GAAG,CAACS,GAAJ,CAAQ,oBAAR;AACAT,GAAG,CAACS,GAAJ,CAAQC,iBAAQC,IAAR,EAAR;AACAX,GAAG,CAACS,GAAJ,CAAQC,iBAAQE,UAAR,CAAmB,EAAEC,QAAQ,EAAE,IAAZ,EAAnB,CAAR;;AAEAb,GAAG,CAACc,GAAJ,CAAQ,OAAR,EAAiB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC3BA,EAAAA,GAAG,CAACC,IAAJ,CAAS,EAAEC,IAAI,EAAE,eAAR,EAAT;AACH,CAFD;;AAIA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEAd,EAAE,CAACe,EAAH,CAAM,YAAN,EAAoBC,MAAM,IAAI;AAC1BA,EAAAA,MAAM,CAACD,EAAP,CAAU,WAAV,EAAuB,CAACE,MAAD,EAASC,MAAT,KAAoB;AACvCC,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BH,MAA/B;AACAD,IAAAA,MAAM,CAACK,IAAP,CAAYJ,MAAZ;AACAD,IAAAA,MAAM,CAACM,EAAP,CAAUL,MAAV,EAAkBM,SAAlB,CAA4BC,IAA5B,CAAiC,kBAAjC,EAAqDN,MAArD;AACAF,IAAAA,MAAM,CAACD,EAAP,CAAU,YAAV,EAAwB,MAAM;AAC1BC,MAAAA,MAAM,CAACM,EAAP,CAAUL,MAAV,EAAkBM,SAAlB,CAA4BC,IAA5B,CAAiC,mBAAjC,EAAsDN,MAAtD;AACH,KAFD;AAGH,GAPD;AAQH,CATD;;AAWA;AACArB,KAAK,CAAC4B,MAAN,CAAaxB,IAAb,EAAmB,MAAM;AACrBkB,EAAAA,OAAO,CAACC,GAAR,CAAa,yBAAwBnB,IAAK,EAA1C;AACH,CAFD,EAEGc,EAFH,CAEM,OAFN,EAEeW,CAAC,IAAI;AAChBP,EAAAA,OAAO,CAACQ,KAAR,CAAcD,CAAd;AACH,CAJD","sourcesContent":["import express from 'express';\nimport cors from 'cors';\nimport server from 'http';\nimport socketIO from 'socket.io';\nimport { v4 as uuidV4 } from 'uuid';\n\nconst app = express();\nconst serve = server.Server(app);\nconst io = socketIO(serve);\nconst port = process.env.PORT || 5000;\n\n// Middlewares\napp.use(cors());\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\n\napp.get('/join', (req, res) => {\n    res.send({ link: uuidV4() });\n});\n\n// app.use(express.static('public'));\n// app.set('view engine', 'ejs');\n\n// app.get('/', (req, res) => {\n//     res.redirect(`/${uuidV4()}`)\n// });\n\n// app.get(('/:room'), (req, res) => {\n//     res.render('room', { roomID: req.params.room });\n// })\n\nio.on('connection', socket => {\n    socket.on('join-room', (roomID, userID) => {\n        console.log('Joinned in Room', roomID);\n        socket.join(roomID);\n        socket.to(roomID).broadcast.emit('new-user-connect', userID);\n        socket.on('disconnect', () => {\n            socket.to(roomID).broadcast.emit('user-disconnected', userID);\n        })\n    })\n})\n\n// Server listen initilized\nserve.listen(port, () => {\n    console.log(`Listening on the port ${port}`);\n}).on('error', e => {\n    console.error(e);\n});\n"],"file":"server.js"}